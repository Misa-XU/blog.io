<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/m180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/m32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/m16.png">
  <link rel="mask-icon" href="/images/m.svg" color="#222">
  <meta name="google-site-verification" content="l0XDECOmsvwwCO9VimxNpb_6-9bc2xoI-Hu9necbGWY">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Comic Sans MS:300,300italic,400,400italic,700,700italic|Georgia:300,300italic,400,400italic,700,700italic|Arial:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"misa-xu.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Building is a fairly general term without strict definition; It usually refers to the whole process that outputing the final product (an executable or a library) from source materials. Depending on th">
<meta property="og:type" content="article">
<meta property="og:title" content="Build using CMake on Windows">
<meta property="og:url" content="https://misa-xu.github.io/cmake/index.html">
<meta property="og:site_name" content="Яedσ З000">
<meta property="og:description" content="Building is a fairly general term without strict definition; It usually refers to the whole process that outputing the final product (an executable or a library) from source materials. Depending on th">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-08-02T16:03:40.000Z">
<meta property="article:modified_time" content="2020-08-17T05:18:59.629Z">
<meta property="article:author" content="Misa XU">
<meta property="article:tag" content="CMake">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://misa-xu.github.io/cmake/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Build using CMake on Windows | Яedσ З000</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Яedσ З000</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Living so free is a tragedy</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-code fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-bug fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-cookie-bite fa-fw"></i>Tags<span class="badge">12</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-list fa-fw"></i>Categories<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-book-dead fa-fw"></i>Archives<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-map-signs fa-fw"></i>Sitemap</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://misa-xu.github.io/cmake/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Misa XU">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Яedσ З000">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Build using CMake on Windows
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-08-03 00:03:40" itemprop="dateCreated datePublished" datetime="2020-08-03T00:03:40+08:00">2020-08-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-17 13:18:59" itemprop="dateModified" datetime="2020-08-17T13:18:59+08:00">2020-08-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index"><span itemprop="name">Tools</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/CMake/" itemprop="url" rel="index"><span itemprop="name">CMake</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>Building</strong> is a fairly general term without strict definition; It usually refers to the <strong>whole</strong> process that outputing the final product (an executable or a library) from source materials. Depending on the requirements, <strong>building</strong> will involve several of the following: <em>pre-processing</em>, <em>compiling</em>, <em>linking</em>, <em>converting data files</em>, <em>automatically testing</em>, <em>packaging</em>.</p>
<p>Among the tools that defining the building behaviors for <code>Platform Dependent</code> products whose programming language usually be <code>C</code> or <code>C++</code>, <strong>CMake</strong> is the most popular one as it is <strong>open-source and cross-platform</strong>. The building process with <strong>CMake</strong> takes place in two stages:</p>
<ol type="1">
<li>Given abstract, <code>platform and compiler independent</code> building procedures defined by developers, generating standard <code>Makefile</code> or <code>Project Files</code> for IDEs (Visual Studio, Xcode etc.) .</li>
<li>Invoke the desired <code>native build tool</code> to undertake the actual building process.</li>
</ol>
<p>Here we introduce the usage of CMake. The environment of this tutorial is <code>Windows 10</code>; The output of each command will be different from that running on Linux. For the syntax of CMake Language, you may visit <a href="/cmake-syntax">CMake Syntax</a> for details.</p>
<a id="more"></a>
<h1 id="hello-world">Hello World</h1>
<p>The following is a good starting point for learning about CMake.</p>
<ol type="1">
<li>Create a new folder <code>test</code>.</li>
<li>Under the directory, create the source file <code>main.cpp</code>. <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello World from test Main!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Create the CMake file named exactly <code>CMakeLists.txt</code> <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>)</span><br><span class="line"><span class="keyword">project</span>(Main)</span><br><span class="line"><span class="keyword">add_executable</span>(Main main.cpp)</span><br></pre></td></tr></table></figure></li>
<li>Run <code>cmake .</code> to generate native <code>project files</code>. Under <code>Windows</code>, CMake will generate a <code>Visual Studio</code> project by default. When finished, lots of contents created in the directory: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">│  ALL_BUILD.vcxproj</span><br><span class="line">│  ALL_BUILD.vcxproj.filters</span><br><span class="line">│  CMakeCache.txt</span><br><span class="line">│  CMakeLists.txt</span><br><span class="line">│  cmake_install.cmake</span><br><span class="line">│  main.cpp</span><br><span class="line">│  Main.sln</span><br><span class="line">│  Main.vcxproj</span><br><span class="line">│  Main.vcxproj.filters</span><br><span class="line">│  ZERO_CHECK.vcxproj</span><br><span class="line">│  ZERO_CHECK.vcxproj.filters</span><br><span class="line">└─CMakeFiles/</span><br></pre></td></tr></table></figure></li>
<li>Run <code>cmake --build .</code> to create executable. You could find the <code>Main.exe</code> in <code>&lt;root-dir&gt;/Debug</code>. <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">│  ALL_BUILD.vcxproj</span><br><span class="line">│  ALL_BUILD.vcxproj.filters</span><br><span class="line">│  CMakeCache.txt</span><br><span class="line">│  CMakeLists.txt</span><br><span class="line">│  cmake_install.cmake</span><br><span class="line">│  main.cpp</span><br><span class="line">│  Main.sln</span><br><span class="line">│  Main.vcxproj</span><br><span class="line">│  Main.vcxproj.filters</span><br><span class="line">│  ZERO_CHECK.vcxproj</span><br><span class="line">│  ZERO_CHECK.vcxproj.filters</span><br><span class="line">├─CMakeFiles/</span><br><span class="line">├─Debug/</span><br><span class="line">│      Main.exe</span><br><span class="line">│      Main.ilk</span><br><span class="line">│      Main.pdb</span><br><span class="line">├─Main.dir/</span><br><span class="line">└─x64/</span><br></pre></td></tr></table></figure></li>
<li>Run executable via <code>Debug\Main.exe</code> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World from <span class="built_in">test</span> Main!</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="explanation">Explanation</h2>
<h3 id="generate-a-project-buildsystem">Generate a Project Buildsystem</h3>
<p>To generate a <code>buildsystem</code> with CMake, the following must be defined:</p>
<ul>
<li><code>Source Tree</code>: The <em>top-level directory</em> containing <strong>source files</strong> provided by the project. Then the generation will start with <code>CMakeLists.txt</code> under this directory.</li>
<li><code>Build Tree</code>: The <em>top-level directory</em> where <strong>buildsystem files</strong> and <strong>output artifacts</strong> being placed. CMake will also create a <code>CMakeCache.txt</code> here to store persistent information.</li>
<li><code>Generator</code>: The type of buildsystem to generate. If not specified, CMake will choose the proper one automatically. When using one of the <strong>Command-Line Build Tool Generators</strong> CMake expects that the environment needed by the compiler toolchain is already configured in the shell. When using one of the <strong>IDE Build Tool Generators</strong>, no particular environment is needed.</li>
</ul>
<p>You could run CMake with one of the following command signatures to specify them.</p>
<ol type="1">
<li><code>cmake [&lt;options&gt;] &lt;path-to-source&gt;</code>: Then the current directory is the <strong>build tree</strong>, <code>&lt;path-to-source&gt;</code> is the <strong>source tree</strong>. Both absolute an relative path is valid. The <strong>source tree</strong> must contain a <code>CMakeLists.txt</code> file and must not contain a <code>CMakeCache.txt</code> file.</li>
<li><code>cmake [&lt;options&gt;] &lt;path-to-existing-build&gt;</code>: Then <code>&lt;path-to-existing-build&gt;</code> is the <strong>build tree</strong> which must contain a <code>CMakeCache.txt</code> file because CMake will load the <strong>source tree</strong> from it.</li>
<li><code>cmake [&lt;options&gt;] -S &lt;path-to-source&gt; -B &lt;path-to-build&gt;</code>. Specify both <code>&lt;path-to-build&gt;</code> and <code>&lt;path-to-source&gt;</code>. The source tree must contain a <code>CMakeLists.txt</code> file; The build tree will be created automatically if it does not already exist.</li>
</ol>
<h4 id="options">Options</h4>
<p>For the full list of options please visit <a target="_blank" rel="noopener" href="https://cmake.org/cmake/help/latest/manual/cmake.1.html#options" class="uri">https://cmake.org/cmake/help/latest/manual/cmake.1.html#options</a> or <code>cmake --help</code></p>
<ul>
<li><code>-C &lt;initial-cache&gt;</code>: Pre-load a script that contains a list of <code>set()</code> commands to initialize the cache values. The loaded entries take priority over the project’s default values.</li>
<li><code>-D &lt;var&gt;:&lt;type&gt;=&lt;value&gt;</code> or <code>-D &lt;var&gt;=&lt;value&gt;</code>: Create or update a CMake CACHE entry.</li>
<li><code>-G &lt;generator-name&gt;</code> Specify a build system generator. Run <code>cmake --help</code> to get the name of supported generators</li>
<li><code>--log-level=&lt;ERROR|WARNING|NOTICE|STATUS|VERBOSE|DEBUG|TRACE&gt;</code>: Set the log level. The <code>message()</code> command will only output messages of the specified log level or higher. The default log level is <code>STATUS</code>.</li>
</ul>
<h3 id="build-a-project">Build a Project</h3>
<p>Use <code>cmake --build &lt;dir&gt; [&lt;options&gt;] [-- &lt;build-tool-options&gt;]</code> to build an already-generated project binary tree.</p>
<ul>
<li><code>--build &lt;dir&gt;</code> The binary directory when building.</li>
<li><code>--parallel [&lt;jobs&gt;], -j [&lt;jobs&gt;]</code>: Specify the maximum number of concurrent processes. If <code>&lt;jobs&gt;</code> is omitted, use the default number.</li>
<li><code>--target &lt;tgt&gt;..., -t &lt;tgt&gt;...</code>: Build specific <code>&lt;tgt&gt;</code>s .</li>
<li><code>--config &lt;cfg&gt;</code>: For multi-configuration tools, choose specific <code>&lt;cfg&gt;</code>.</li>
<li><code>--clean-first</code>: Clean existing built target and re-build it.</li>
<li><code>-target clean</code>: Clean existing built target only.</li>
</ul>
<h3 id="output-message">Output message</h3>
<p><code>message([SEND_ERROR|STATUS|FATAL_ERROR|DEBUG|TRACE] &quot;message text&quot; ...)</code></p>
<p>CMake displays <code>STATUS</code> to <code>TRACE</code> messages on <strong>stdout</strong> with prefix <code>--</code>; All other message types are sent to <strong>stderr</strong>. <code>FATAL_ERROR</code> will terminate the process immediately whereas <code>CMake Error</code> stops generation only but continues processing.</p>
<h3 id="set-project-name">Set Project Name</h3>
<p><code>project(&lt;PROJECT-NAME&gt; [VERSION &lt;major&gt;[.&lt;minor&gt;[.&lt;patch&gt;[.&lt;tweak&gt;]]]])</code></p>
<p>This command will set the name of the project and store it in <code>PROJECT_NAME</code>. When called from the top-level <code>CMakeLists.txt</code>, it will also store the project name in <code>CMAKE_PROJECT_NAME</code>. Simultaneously, the variables <code>PROJECT_SOURCE_DIR</code>, <code>&lt;PROJECT-NAME&gt;_SOURCE_DIR</code>, <code>PROJECT_BINARY_DIR</code>, <code>&lt;PROJECT-NAME&gt;_BINARY_DIR</code> will be defined according to the absolute path of the corresponding directory.</p>
<h3 id="add-executable">Add Executable</h3>
<p><code>add_executable(&lt;name&gt; [source1] [source2 ...])</code></p>
<p>This command will add an executable target called <code>&lt;name&gt;</code> to be built from the source files listed in the command invocation; The source files can also be added later using <code>target_sources()</code>. The <code>&lt;name&gt;</code> must be globally unique within a project. By default the executable will be created in the <strong>build tree</strong> directory with the name <code>&lt;name&gt;</code> or <code>&lt;name&gt;.exe</code> depending on the native platform.</p>
<h3 id="in-source-and-out-of-source-build">In-Source and Out-of-Source Build</h3>
<p>Some build trees created with GNU autotools have a <code>make distclean</code> command that removes Makefiles and others belonging to the generated build system. However, CMake has no way to track exactly which files are generated by itself. Therefore, it's recommended to adopt the <code>out-of-source</code> build ---- placing the build tree separately from the source tree. Then one can clean the build by clear or delete the build tree without affect the original source files.</p>
<h1 id="a-better-hello-world">A Better Hello World</h1>
<h2 id="reorganize-the-project-directory">Reorganize the Project Directory</h2>
<ol type="1">
<li>Create <code>src/</code> to place source files</li>
<li>Create <code>CMakeLists.txt</code> under <code>src/</code></li>
<li>Create <code>build/</code> to place buildsystem</li>
</ol>
<p>After that, the structure of our project will be</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">|   CMakeLists.txt</span><br><span class="line">|</span><br><span class="line">+---build</span><br><span class="line">|   \---bin</span><br><span class="line">\---src</span><br><span class="line">        CMakeLists.txt</span><br><span class="line">        main.cpp</span><br></pre></td></tr></table></figure>
<h2 id="config-source-and-binary-directory">Config Source and Binary Directory</h2>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_subdirectory</span>(source_dir [binary_dir])</span><br></pre></td></tr></table></figure>
<p>This command will add <code>source_dir</code> run its <code>CMakeLists.txt</code>; A relative path will be evaluated with respect to the <strong>current directory</strong>. The <code>binary_dir</code> specifies the directory in which to place the output files. Both relative path and absolute path are valid; A relative path it will be evaluated with respect to the <strong>current output directory</strong>. If <code>binary_dir</code> is not specified, the value of <code>source_dir</code> before expanding will be used.</p>
<p>In top-level <code>CMakeLists.txt</code> become: <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>)</span><br><span class="line"><span class="keyword">project</span>(Main)</span><br><span class="line"><span class="keyword">add_subdirectory</span>(src/ main)</span><br></pre></td></tr></table></figure></p>
<h2 id="config-source-directory">Config Source Directory</h2>
<p>It's tedious to list all source files manually, regardless of using <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_executable</span>(<span class="keyword">project</span> source1.c source2.c)</span><br></pre></td></tr></table></figure></p>
<p>or</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(DIR source1.c source2.c)</span><br><span class="line"><span class="keyword">add_executable</span>(<span class="keyword">project</span> <span class="variable">$&#123;DIR&#125;</span>)</span><br></pre></td></tr></table></figure>
<p><code>aux_source_directory(&lt;dir&gt; &lt;variable&gt;)</code> will collects the names of all the source files in <code>&lt;dir&gt;</code> and stores the list in the <code>&lt;variable&gt;</code>. Note that there is no way for the build system that knows when a new source file has been added; When a new source is just added to the directory, one would have to manually rerun CMake to generate a build system incorporating the new file.</p>
<p>In <code>CMakeLists.txt</code> of <code>src/</code>, add</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">aux_source_directory</span>(. SRC_DIR)</span><br><span class="line"><span class="keyword">add_executable</span>(Main <span class="variable">$&#123;SRC_DIR&#125;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="config-binary-directory">Config Binary Directory</h2>
<p>In <code>CMakeLists.txt</code> of <code>src/</code>, add <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">aux_source_directory</span>(. SRC_DIR)</span><br><span class="line"><span class="keyword">add_executable</span>(Main <span class="variable">$&#123;SRC_DIR&#125;</span>)</span><br><span class="line"><span class="keyword">set</span>(EXECUTABLE_OUTPUT_PATH <span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>/bin)</span><br></pre></td></tr></table></figure></p>
<h2 id="specify-the-c-standard">Specify the C++ Standard</h2>
<p>In top-level <code>CMakeLists.txt</code>, add</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">11</span>)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD_REQUIRED <span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<h2 id="add-configured-header-file">Add Configured Header File</h2>
<h3 id="add-a-version-number">Add a Version Number</h3>
<p>Add the version number in <code>project</code>.</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">project</span>(Main VERSION <span class="number">1.0</span>)</span><br></pre></td></tr></table></figure>
<p>Then the variables <code>PROJECT_VERSION</code>, <code>&lt;PROJECT-NAME&gt;_VERSION</code>, <code>PROJECT_VERSION_MAJOR</code>, <code>&lt;PROJECT-NAME&gt;_VERSION_MAJOR</code>, <code>PROJECT_VERSION_MINOR</code>, <code>&lt;PROJECT-NAME&gt;_VERSION_MINOR</code>, <code>PROJECT_VERSION_PATCH</code>, <code>&lt;PROJECT-NAME&gt;_VERSION_PATCH</code>, <code>PROJECT_VERSION_TWEAK</code>, <code>&lt;PROJECT-NAME&gt;_VERSION_TWEAK</code> will be defined accordingly.</p>
<h3 id="add-a-configured-header-file">Add a Configured Header File</h3>
<p>It's also valid to specify the version number directly in the source code,; Using <code>CMakeLists.txt</code> provides more flexibility. Under <code>src/</code>, create a new file <code>config.h.in</code> with the following content:</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#define PROJECT_VERSION_MAJOR @PROJECT_VERSION_MAJOR@</span></span><br><span class="line"><span class="comment">#define PROJECT_VERSION_MINOR @PROJECT_VERSION_MINOR@</span></span><br></pre></td></tr></table></figure>
<p><code>configure_file(&lt;input&gt; &lt;output&gt;)</code> will copy the <code>&lt;input&gt;</code> to an <code>&lt;output&gt;</code> file with the evaulated values referenced as <code>@VAR@</code> or <code>$&#123;VAR&#125;</code>. Each variable reference will be replaced with the current value of the variable, or the empty string if the variable is not defined.</p>
<p>The configured file will be written into the <code>$&#123;CMAKE_CURRENT_BINARY_DIR&#125;</code>; We must add that directory to the list of paths to search for include files. In <code>src/CMakeLists.txt</code>, add</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">configure_file</span>(config.h.in config.h)</span><br><span class="line"><span class="keyword">target_include_directories</span>(Main PUBLIC <span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>)</span><br></pre></td></tr></table></figure>
<p><code>target_include_directories(&lt;target&gt; &lt;INTERFACE|PUBLIC|PRIVATE&gt; [items1...]) [&lt;INTERFACE|PUBLIC|PRIVATE&gt; [items2...] ...])</code> specifies <strong>include directories</strong> to when compiling a given target. The named <code>&lt;target&gt;</code> must have been defined by such as <code>add_executable()</code> or <code>add_library()</code>.</p>
<p>Finally, in <code>main.cpp</code>, let's include the header file and print the version number.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;config.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello World from test Main!\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;The Major Version is %s and the Minor Version is %s\n&quot;</span> , PROJECT_VERSION_MAJOR, PROJECT_VERSION_MINOR);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="a-complex-hello-world">A Complex Hello World</h1>
<h2 id="add-math-library">Add Math Library</h2>
<p>Create <code>math/</code> under <code>src/</code>, add <code>CMakeLists.txt</code>, <code>MathFunctions.cpp</code> with <code>MathFunctions.h</code></p>
<p><code>MathFunctions.h</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">extern</span> <span class="keyword">double</span> <span class="title">power</span><span class="params">(<span class="keyword">double</span> base, <span class="keyword">int</span> exponent)</span></span>;</span><br></pre></td></tr></table></figure>
<p><code>MathFunctions.cpp</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;MathFunctions.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">power</span><span class="params">(<span class="keyword">double</span> base, <span class="keyword">int</span> exponent)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = base;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">if</span> (exponent == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; exponent; ++i)&#123;</span><br><span class="line">        result = result * base;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>src/math/CMakeLists.txt</code></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">aux_source_directory</span>(. DIR_LIB_SRCS)</span><br></pre></td></tr></table></figure>
<p>After that, the structure will be</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">|   CMakeLists.txt</span><br><span class="line">|</span><br><span class="line">+---build</span><br><span class="line">\---src</span><br><span class="line">    |   CMakeLists.txt</span><br><span class="line">    |   config.h.in</span><br><span class="line">    |   main.cpp</span><br><span class="line">    |</span><br><span class="line">    \---<span class="keyword">math</span></span><br><span class="line">            CMakeLists.txt</span><br><span class="line">            MathFunctions.cpp</span><br><span class="line">            MathFunctions.h</span><br></pre></td></tr></table></figure>
<h2 id="build-and-use-static-library">Build and Use Static Library</h2>
<p>In <code>src/math/CMakeLists.txt</code>, add <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(LIBRARY_OUTPUT_PATH <span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>/lib)</span><br><span class="line"><span class="keyword">add_library</span> (MathFunctions <span class="variable">$&#123;DIR_LIB_SRCS&#125;</span>)</span><br></pre></td></tr></table></figure></p>
<p><code>add_library(&lt;name&gt; [STATIC | SHARED] [source1] [source2 ...])</code> will add a library target called <code>&lt;name&gt;</code>.</p>
<p>The top-level <code>CMakeLists.txt</code> become: <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>)</span><br><span class="line"><span class="keyword">project</span>(Main VERSION <span class="number">1.0</span>)</span><br><span class="line"><span class="keyword">add_subdirectory</span>(src/<span class="keyword">math</span> <span class="keyword">math</span>) <span class="comment">#process math first</span></span><br><span class="line"><span class="keyword">add_subdirectory</span>(src/ main)</span><br></pre></td></tr></table></figure></p>
<p>The <code>src/CMakeLists.txt</code> become: <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">aux_source_directory</span>(. SRC_DIR)</span><br><span class="line"><span class="keyword">add_executable</span>(Main <span class="variable">$&#123;SRC_DIR&#125;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">configure_file</span>(config.h.in config.h)</span><br><span class="line"><span class="keyword">set</span>(EXECUTABLE_OUTPUT_PATH <span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>/bin)</span><br><span class="line"></span><br><span class="line"><span class="keyword">target_link_libraries</span>(Main PUBLIC MathFunctions) <span class="comment"># link the library</span></span><br><span class="line"><span class="keyword">target_include_directories</span>(Main PUBLIC <span class="variable">$&#123;CMAKE_CURRENT_BINARY_DIR&#125;</span> <span class="variable">$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;</span>/<span class="keyword">math</span>) <span class="comment"># include the directory of `MathFunctions.h`</span></span><br></pre></td></tr></table></figure></p>
<p>The structure become</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">|   CMakeLists.txt</span><br><span class="line">|   compile.bat</span><br><span class="line">|   README.txt</span><br><span class="line">|</span><br><span class="line">+---build</span><br><span class="line">|   +---bin</span><br><span class="line">|   |   \---Debug</span><br><span class="line">|   |           Main.exe</span><br><span class="line">|   |           Main.ilk</span><br><span class="line">|   |           Main.pdb</span><br><span class="line">|   |</span><br><span class="line">|   \---lib</span><br><span class="line">|       \---Debug</span><br><span class="line">|               MathFunctions.lib</span><br><span class="line">|               MathFunctions.pdb</span><br><span class="line">|</span><br><span class="line">\---src</span><br><span class="line">    |   CMakeLists.txt</span><br><span class="line">    |   config.h.in</span><br><span class="line">    |   main.cpp</span><br><span class="line">    |</span><br><span class="line">    \---<span class="keyword">math</span></span><br><span class="line">            CMakeLists.txt</span><br><span class="line">            MathFunctions.cpp</span><br><span class="line">            MathFunctions.h</span><br></pre></td></tr></table></figure>
<h2 id="build-and-use-dynamic-library">Build and use Dynamic Library</h2>
<p><code>src/math/CMakeLists.txt</code> become</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">aux_source_directory</span>(. DIR_LIB_SRCS)</span><br><span class="line"><span class="keyword">set</span>(LIBRARY_OUTPUT_PATH <span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>/lib)</span><br><span class="line"><span class="keyword">add_library</span> (MathFunctions SHARED <span class="variable">$&#123;DIR_LIB_SRCS&#125;</span>) <span class="comment"># to build a shared library</span></span><br></pre></td></tr></table></figure>
<p><code>MathFunctions.h</code> become</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span>  __declspec( dllexport )  <span class="function"><span class="keyword">double</span> <span class="title">power</span><span class="params">(<span class="keyword">double</span> base, <span class="keyword">int</span> exponent)</span></span>;<span class="comment">//</span></span><br></pre></td></tr></table></figure>
<p><code>src/CMakeLists.txt</code> become:</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">aux_source_directory</span>(. SRC_DIR)</span><br><span class="line"><span class="keyword">add_executable</span>(Main <span class="variable">$&#123;SRC_DIR&#125;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">configure_file</span>(config.h.in config.h)</span><br><span class="line"><span class="keyword">set</span>(EXECUTABLE_OUTPUT_PATH <span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>/bin)</span><br><span class="line"></span><br><span class="line"><span class="keyword">link_directories</span>(<span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/lib/Debug) <span class="comment"># link the directory of .lib</span></span><br><span class="line"><span class="keyword">target_link_libraries</span>(Main PUBLIC MathFunctions)</span><br><span class="line"><span class="keyword">target_include_directories</span>(Main PUBLIC <span class="variable">$&#123;CMAKE_CURRENT_BINARY_DIR&#125;</span> <span class="variable">$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;</span>/<span class="keyword">math</span>)</span><br></pre></td></tr></table></figure>
<p>Then the structrue become</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">|   CMakeLists.txt</span><br><span class="line">|</span><br><span class="line">+---build</span><br><span class="line">|   +---bin</span><br><span class="line">|   |   \---Debug</span><br><span class="line">|   |           Main.exe</span><br><span class="line">|   |           Main.ilk</span><br><span class="line">|   |           Main.pdb</span><br><span class="line">|   |</span><br><span class="line">|   \---lib</span><br><span class="line">|       \---Debug</span><br><span class="line">|               MathFunctions.dll</span><br><span class="line">|               MathFunctions.exp</span><br><span class="line">|               MathFunctions.ilk</span><br><span class="line">|               MathFunctions.lib</span><br><span class="line">|               MathFunctions.pdb</span><br><span class="line">|</span><br><span class="line">\---src</span><br><span class="line">    |   CMakeLists.txt</span><br><span class="line">    |   config.h.in</span><br><span class="line">    |   main.cpp</span><br><span class="line">    |</span><br><span class="line">    \---<span class="keyword">math</span></span><br><span class="line">            CMakeLists.txt</span><br><span class="line">            MathFunctions.cpp</span><br><span class="line">            MathFunctions.h</span><br></pre></td></tr></table></figure>
<p>When running with dynamic-linked library, you should put the <code>.dll</code>s under the same folder of <code>.exe</code>.</p>
<p><a target="_blank" rel="noopener" href="https://cmake.org/cmake/help/latest/guide/tutorial/" class="uri">https://cmake.org/cmake/help/latest/guide/tutorial/</a> <a target="_blank" rel="noopener" href="https://cliutils.gitlab.io/modern-cmake/" class="uri">https://cliutils.gitlab.io/modern-cmake/</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CMake/" rel="tag"># CMake</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/eigen/" rel="prev" title="Eigen Tutorial">
      <i class="fa fa-chevron-left"></i> Eigen Tutorial
    </a></div>
      <div class="post-nav-item">
    <a href="/cmake-syntax/" rel="next" title="Syntax of CMake">
      Syntax of CMake <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#hello-world"><span class="nav-number">1.</span> <span class="nav-text">Hello World</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#explanation"><span class="nav-number">1.1.</span> <span class="nav-text">Explanation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#generate-a-project-buildsystem"><span class="nav-number">1.1.1.</span> <span class="nav-text">Generate a Project Buildsystem</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#options"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">Options</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#build-a-project"><span class="nav-number">1.1.2.</span> <span class="nav-text">Build a Project</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#output-message"><span class="nav-number">1.1.3.</span> <span class="nav-text">Output message</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set-project-name"><span class="nav-number">1.1.4.</span> <span class="nav-text">Set Project Name</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#add-executable"><span class="nav-number">1.1.5.</span> <span class="nav-text">Add Executable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#in-source-and-out-of-source-build"><span class="nav-number">1.1.6.</span> <span class="nav-text">In-Source and Out-of-Source Build</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#a-better-hello-world"><span class="nav-number">2.</span> <span class="nav-text">A Better Hello World</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#reorganize-the-project-directory"><span class="nav-number">2.1.</span> <span class="nav-text">Reorganize the Project Directory</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#config-source-and-binary-directory"><span class="nav-number">2.2.</span> <span class="nav-text">Config Source and Binary Directory</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#config-source-directory"><span class="nav-number">2.3.</span> <span class="nav-text">Config Source Directory</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#config-binary-directory"><span class="nav-number">2.4.</span> <span class="nav-text">Config Binary Directory</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#specify-the-c-standard"><span class="nav-number">2.5.</span> <span class="nav-text">Specify the C++ Standard</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#add-configured-header-file"><span class="nav-number">2.6.</span> <span class="nav-text">Add Configured Header File</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#add-a-version-number"><span class="nav-number">2.6.1.</span> <span class="nav-text">Add a Version Number</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#add-a-configured-header-file"><span class="nav-number">2.6.2.</span> <span class="nav-text">Add a Configured Header File</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#a-complex-hello-world"><span class="nav-number">3.</span> <span class="nav-text">A Complex Hello World</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#add-math-library"><span class="nav-number">3.1.</span> <span class="nav-text">Add Math Library</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#build-and-use-static-library"><span class="nav-number">3.2.</span> <span class="nav-text">Build and Use Static Library</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#build-and-use-dynamic-library"><span class="nav-number">3.3.</span> <span class="nav-text">Build and use Dynamic Library</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Misa XU"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Misa XU</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Misa-Xu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Misa-Xu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:giokosan@gmail.com" title="E-Mail → mailto:giokosan@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-dragon"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Misa XU</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '6f5c8bef0c06ea413171',
      clientSecret: 'c859b172fcc560853c460394d80de30ee80bd7fa',
      repo        : 'misa-xu.github.io',
      owner       : 'Misa-XU',
      admin       : ['Misa-XU'],
      id          : 'bde01de3e15de114d751c6280483a291',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
